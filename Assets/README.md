# Описание архитектуры
## GridGraph
Тут будет хранится вся информация о сетке и графе.
- Вложенный класс `State`: Этот класс представляет состояние каждой ячейки графа сетки. У него есть три публичных поля: `isOccupied` (занята ли ячейка), `color` (цвет ячейки) и `type` (тип ячейки: что-то типа `factory`, `powerline` и т.д.).

- Приватное поле `grid`: Это поле типа `Grid`, которое используется для получения доступа к компоненту `Grid`, присоединенному к объекту, на котором находится этот компонент `GridGraph`.

- Приватное поле `_graph`: Это словарь, в котором ключами являются `Vector3Int` (позиция ячейки в графе сетки), а значениями являются списки соседних ячеек. Этот словарь представляет граф сетки.

- Приватное поле `_graphStates`: Это словарь, в котором ключами являются `Vector3Int` (позиция ячейки в графе сетки), а значениями являются объекты класса `State`. Этот словарь используется для хранения состояния каждой ячейки графа сетки.

- Метод `Start()`: Этот метод вызывается при запуске компонента `GridGraph`. В нем получается ссылка на компонент `Grid`, присоединенный к этому объекту, и вызывается метод `GetChilds()`, чтобы записать в граф все вершины.

- Публичный метод `WorldToCell(Vector3 vector3)`: Этот метод принимает позицию в мировых координатах и возвращает позицию ячейки графа сетки, соответствующую этой позиции.

- Публичный метод `CellToWorld(Vector3Int vector3Int)`: Этот метод принимает позицию ячейки графа сетки и возвращает позицию в мировых координатах, соответствующую этой позиции.

- Публичный метод `IsCellFree(Vector3Int vector3Int)`: Этот метод принимает позицию ячейки графа сетки и возвращает `true`, если ячейка свободна, и `false` в противном случае.

- Публичный метод `PlaceNewObject(Vector3Int vector3Int)`: Этот метод принимает позицию ячейки графа сетки и устанавливает состояние этой ячейки

## InputManager
Класс, отвечающий за input-ы пользователя. Основная идея - пользователь нажимает на один из тайлов, его input переводится в `Vector3Int`, который соответсвует нужному тайлу.

## ObjectsDatabaseSO
База данных, содержащая типы объектов, которые можно будет расположить на карте. Пока не уверен, что будет использоваться.

## PlacementSystem
Отвечает за сбор input-ов, расположение всех объетов на карте.

### Полезные ссылки:
- https://www.youtube.com/watch?v=l0emsAHIBjU&list=PLcRSafycjWFepsLiAHxxi8D_5GGvu6arf&index=1 - вот отсюда брал какие-то основные архитектурные решения.

**P.S** Соре за много текста, если че не понятно, пишите. В общем, на текущий момент самым важным классом является `GridGraph`. Он вроде как сделан +- полностью. Все остальное можно поменять, пока это просто MVP. 